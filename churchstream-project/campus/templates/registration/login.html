{% extends 'base.html' %}
{% block content %}

<h1>Login</h1>

<!-- <form method="POST">
  {% csrf_token %}
  {{ form.as_p }}
  <button type="submit">Login</button>
</form> -->

<div class="container">
  <h2>Login Page</h2>
  <form method="POST">
    {% csrf_token %}
    {% csrf_token %}

    {% if form.non_field_errors %}
    <div class="alert alert-danger">
      {{ form.non_field_errors}}
    </div>
    {% endif %}

    {% load widget_tweaks %}
    {% for field in form %}      <!-- this form variable automatically gets passed on from the CreateView django class -->
                                  <!-- and passes in all the fields from the model as a form -->
    <div class="form-group {% if field.errors %} alert alert-danger {% endif %}">
      {{ field.errors }}
      {{ field.label_tag }}
      {% render_field field class="form-control" %}
      {% if field.help_text %}
      <small class="text-muted">
        {{ field.help_text|safe}}
      </small>
      {% endif %}
    </div>
    {% endfor %}
    <button type="submit" class="btn btn-primary">Login!</button>
  </form>
</div>

{% endblock %}
